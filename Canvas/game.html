<!DOCTYPE html>
<html>
    <body>
        <canvas onclick="myFunction(event)" id="myCanvas" width="500" height="500" ></canvas>
        <br>
        <button class="btn btn-info btn-md" onclick="location.reload()">Restart</button>
    </body>
    <head>
      
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
      <style>
      #myCanvas
      {
        
        background: url('busycity.JPEG');
        margin: 0 auto;
        display: inline-block;

      }
      </style>

        <script>
            var canvas = document.getElementById("myCanvas");
            var ctx = canvas.getContext("2d");
            var score=0;
            var lives=4;
            var randx=Math.random()*450;
            var randy=Math.random()*450;
            var imageObj = new Image();
            var startScreen = new Image();
            var background1 = new Image();
            var background2 = new Image();
            var round=1;
            
            startScreen.onload = function()
            {
                ctx.drawImage(startScreen, 0, 0);   
            };
            
            startScreen.src = 'startScreen.jpg';
            
            background1.onload = function()
            {
                //ctx.drawImage.src = "waldo.png";
                ctx.drawImage(background1, 0, 30);   
                
            };            
            
            background2.onload = function()
            {
                //ctx.drawImage.src = "waldo.png";
                ctx.drawImage(background2, 0, 30);
                
            };
            
            

            imageObj.onload = function() 
            {
                
                
                /*if(round ==1)
                {
                    ctx.clearRect(0, 0, 500, 530);
                    background1.src = 'busycity.JPEG';
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Score: "+score, 430, 30);
             
                }
                
                
                if(round ==2)
                {
                    ctx.clearRect(0, 0, 500, 530);
                    background2.src = 'background2.JPEG';
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Score: "+score, 430, 30);
      
                } */
                
                ctx.drawImage(imageObj, randx, randy);
                
                
            };            

                       

            
                        

            function myFunction(event){
                var xpos=event.clientX;
                var ypos=event.clientY;
                
                
                if(round == 1)
                {
                    background1.src = "busycity.JPEG";
                    imageObj.src = "waldo.png"; 
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Score: "+score, 430, 30);
                    
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Lives: "+lives, 100, 30);  
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("round: "+round, 300, 30); 
                    //randx= 10;//Math.random()*450;
                    //randy= 0;//Math.random()*450;  
                    
                    if (xpos>=randx && xpos<=randx+150 && ypos>=randy && ypos<=randy+150){
                        ctx.clearRect(0, 0, 500, 530);
                        score++;

                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Score: "+score, 430, 30);
                        
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Lives: "+lives, 100, 30);  
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("round: "+round, 300, 30);                         
                        
                        if(score == 2)
                        {
                          round++;
                          alert("You win! Move on to round 2");
                          ctx.clearRect(0, 0, 500, 530);
                          //background2.src = 'background2.JPEG';
                         // score = 0;
                         // lives =3;
                          
                        }
                        
                        
    
                        
                        
                    }
                    else 
                    {
                        ctx.clearRect(0, 0, 500, 500);
                        lives--;
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Score: "+score, 430, 30);
                        
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Lives: "+lives, 100, 30);  
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("round: "+round, 300, 30);
                       
                        randx=Math.random()*450;
                        randy=Math.random()*450;
                        imageObj.src = 'waldo.png';
                        if (lives==0){
                            alert("Game Over");
                            location.reload();
                        }
                    }                    
                    
                }
                
                if(round == 2 )
                {
                    ctx.clearRect(0, 0, 500, 500);
                    background2.src = "background2.JPEG";
                    
                    imageObj.src = "waldo.png";
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Score: "+score, 430, 30);
                    
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("Lives: "+lives, 100, 30);  
                    
                    ctx.textAlign="center";
                    ctx.font="30px Arial";
                    ctx.fillText("round: "+round, 300, 30);                     
                }
                
                    if (xpos>=randx && xpos<=randx+150 && ypos>=randy && ypos<=randy+150){
                        
                        ctx.clearRect(0, 0, 500, 530);
                        background2.src = "background2.JPEG";
                        score++;

                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Score: "+score, 430, 30);
                        
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Lives: "+lives, 100, 30);  
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("round: "+round, 300, 30);                         
                        
                        if(score == 2)
                        {
                          //round++;
                          alert("You win! Move on to round 2");
                          ctx.clearRect(0, 0, 500, 530);
                          //background2.src = 'background2.JPEG';
                         // score = 0;
                         // lives =3;
                          
                        }
                        
                        
    
                        
                        
                    }
                    else 
                    {
                        ctx.clearRect(0, 0, 500, 500);
                        background2.src = "background2.JPEG";
                        lives--;
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Score: "+score, 430, 30);
                        
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("Lives: "+lives, 100, 30);  
                        
                        ctx.textAlign="center";
                        ctx.font="30px Arial";
                        ctx.fillText("round: "+round, 300, 30);
                       
                        randx=Math.random()*450;
                        randy=Math.random()*450;
                        imageObj.src = 'waldo.png';
                        if (lives==0){
                            alert("Game Over");
                            location.reload();
                        }
                    }                 

               

             
                //ctx.requestAnimationFrame(myFunction);
            }
            
     
            
        </script>
    </head>
</html>